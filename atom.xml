<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>赵子骞COVER的BLOG</title>
  
  <subtitle>赵子骞COVER的BLOG</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://zhaoziqian.top/"/>
  <updated>2018-07-23T06:55:13.858Z</updated>
  <id>http://zhaoziqian.top/</id>
  
  <author>
    <name>[object Object]</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Hyperledger Fabric 1.1.0 简单部署</title>
    <link href="http://zhaoziqian.top/2018/07/23/Hyperledger-Fabric-1-1-0-%E7%AE%80%E5%8D%95%E9%83%A8%E7%BD%B2/"/>
    <id>http://zhaoziqian.top/2018/07/23/Hyperledger-Fabric-1-1-0-简单部署/</id>
    <published>2018-07-23T06:53:50.000Z</published>
    <updated>2018-07-23T06:55:13.858Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Hyperledger-Fabric-1-1-0-简单部署"><a href="#Hyperledger-Fabric-1-1-0-简单部署" class="headerlink" title="Hyperledger Fabric 1.1.0 简单部署"></a>Hyperledger Fabric 1.1.0 简单部署</h3><h4 id="目标：快速启动一个fabric环境"><a href="#目标：快速启动一个fabric环境" class="headerlink" title="目标：快速启动一个fabric环境"></a>目标：快速启动一个fabric环境</h4><h4 id="使用环境：-centos7-最小系统"><a href="#使用环境：-centos7-最小系统" class="headerlink" title="使用环境： centos7 最小系统"></a>使用环境： centos7 最小系统</h4><h4 id="一、安装环境需求软件"><a href="#一、安装环境需求软件" class="headerlink" title="一、安装环境需求软件"></a>一、安装环境需求软件</h4><table><thead><tr><th>是否必须</th><th>软件名</th><th>版本</th><th>描述</th></tr></thead><tbody><tr><td></td><td>curl</td><td></td><td>手动编译时候，可能需要用这个命令下载</td></tr><tr><td></td><td>git</td><td></td><td>拉代码用</td></tr><tr><td>必须</td><td>docker</td><td>1.14+</td><td></td></tr><tr><td>必须</td><td>docker-compose</td><td></td><td></td></tr><tr><td></td><td>golang</td><td>1.10x+</td><td>编译镜像、工具需要</td></tr><tr><td></td><td>node.js</td><td>8.9x+</td><td>编译镜像、工具需要</td></tr><tr><td></td><td>npm</td><td></td><td></td></tr><tr><td></td><td>libtool</td><td></td><td>编译镜像、工具需要</td></tr><tr><td></td><td>libtool-ltdl-devel</td><td></td><td>编译镜像、工具需要</td></tr></tbody></table><hr><p><span style="font-size:30px;"><strong>文档描述</strong></span></p><p>此次部署文档，不使用自己编译镜像和工具的方法。<br><br><br>编译的时候只需要将上面软件安装全，在工程目录执行 make docker，中间可能会出错，一般情况是因为被墙超时，或者资源地址有变动了需要自己找，所以会碰到很多意外。所以使用自己编译的方法总觉得不是很稳。需要对linux操作系统比较熟悉，而且需要多多阅读fabric源码一个个去解决问题。<br><br><br>然而我们简单使用和开发fabric区块链网络，基本是不需要修改基础节点。所以我们只要下载到基础的docker镜像，证书生成，描述文件生成工具，就可以启动区块链网络。<br><br></p><p>但是本次文档的基础版本是基于 github上 ++<strong><em>v1.1.0-rc1 - March 1, 2018</em></strong>++ 版本</p><hr><ol><li>安装docker </li></ol><p>执行使用 yum 命令安装的 docker 经过测试也是可以使用的。但是版本是1.13 fabric官网给的建议是使用1.14以上版本。具体方法如下：</p><p>docker <a href="https://docs.docker.com/install/linux/docker-ce/centos/#set-up-the-repository" target="_blank" rel="noopener">官网安装文档</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">#  移除原有docker，新系统可定是不用操作的</span><br><span class="line">$ yum remove docker \</span><br><span class="line">      docker-client \</span><br><span class="line">      docker-client-latest \</span><br><span class="line">      docker-common \</span><br><span class="line">      docker-latest \</span><br><span class="line">      docker-latest-logrotate \</span><br><span class="line">      docker-logrotate \</span><br><span class="line">      docker-selinux \</span><br><span class="line">      docker-engine-selinux \</span><br><span class="line">      docker-engine</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ yum install -y yum-utils device-mapper-persistent-data lvm2</span><br><span class="line"></span><br><span class="line"># 添加docker软件源</span><br><span class="line">$ yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo</span><br><span class="line">$ yum install docker-ce</span><br></pre></td></tr></table></figure><p>此时就开始安转docker客户端，但是安装过程很缓慢，通过查阅docker-ce.repo 文件，找到软件包下载地址<br><a href="https://download.docker.com/linux/centos/7/x86_64/stable/Packages/" target="_blank" rel="noopener">https://download.docker.com/linux/centos/7/x86_64/stable/Packages/</a><br>我们就可以访问这个地址，使用迅雷什么的下载工具将对应的软件包下载下来。然后安装</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">$ yum localinstall -y /packages/docker-ce/*.rpm --nogpgcheck</span><br><span class="line">$ docker version</span><br><span class="line"></span><br><span class="line">Client:</span><br><span class="line"> Version:18.03.0-ce</span><br><span class="line"> API version:1.37</span><br><span class="line"> Go version:go1.9.4</span><br><span class="line"> Git commit:0520e24</span><br><span class="line"> Built:Wed Mar 21 23:09:15 2018</span><br><span class="line"> OS/Arch:linux/amd64</span><br><span class="line"> Experimental:false</span><br><span class="line"> Orchestrator:swarm</span><br><span class="line"></span><br><span class="line">Server:</span><br><span class="line"> Engine:</span><br><span class="line">  Version:18.03.0-ce</span><br><span class="line">  API version:1.37 (minimum version 1.12)</span><br><span class="line">  Go version:go1.9.4</span><br><span class="line">  Git commit:0520e24</span><br><span class="line">  Built:Wed Mar 21 23:13:03 2018</span><br><span class="line">  OS/Arch:linux/amd64</span><br><span class="line">  Experimental:false</span><br></pre></td></tr></table></figure><p>如此安装完毕，然后还需要关闭防火墙</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># 关闭防火墙</span><br><span class="line">$ systemctl stop firewalld</span><br><span class="line">$ systemctl disable firewalld</span><br><span class="line"></span><br><span class="line"># 关闭selinux</span><br><span class="line"># 查看selinux状态 </span><br><span class="line">$ /usr/sbin/sestatus -v</span><br><span class="line">SELinux status:                 enabled</span><br><span class="line">SELinuxfs mount:                /sys/fs/selinux</span><br><span class="line">....略</span><br><span class="line"></span><br><span class="line">$ sed -ri &quot;s/^SELINUX=enforcing.*/SELINUX=disabled/&quot; /etc/selinux/config</span><br><span class="line"># 重启后再次查看</span><br><span class="line">$ reboot</span><br><span class="line">$ /usr/sbin/sestatus -v</span><br><span class="line">SELinux status:                 disabled</span><br></pre></td></tr></table></figure><p><br></p><ol start="2"><li>安装docker-compose</li></ol><p>可以直接去github上下载， <a href="https://github.com/docker/compose/releases/tag/1.22.0-rc1" target="_blank" rel="noopener">https://github.com/docker/compose/releases/tag/1.22.0-rc1</a>，有linux ，mac ，windows 三个版本。</p><p>linux的可以直接使用迅雷下载这个连接 <a href="https://github.com/docker/compose/releases/download/1.22.0-rc1/docker-compose-Linux-x86_64" target="_blank" rel="noopener">https://github.com/docker/compose/releases/download/1.22.0-rc1/docker-compose-Linux-x86_64</a>，这个下载完后上传到虚拟机里，给文件改名称 docker-compose</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 把docker-compose 移动到bin目录</span><br><span class="line">$ mv ./docker-compose /usr/local/bin</span><br><span class="line">$ chmod +x /usr/local/bin/docker-compose</span><br><span class="line"></span><br><span class="line"># 查看docker-compose 版本</span><br><span class="line">$ docker-compose -v</span><br><span class="line">docker-compose version 1.22.1, build 5d8c71b</span><br></pre></td></tr></table></figure><hr><h4 id="二、获取hyperledger-fabric"><a href="#二、获取hyperledger-fabric" class="headerlink" title="二、获取hyperledger fabric"></a>二、获取hyperledger fabric</h4><ol><li>获取hyperledger fabric 源码</li></ol><p>获取源码就比较简单了，直接使用git工具clone下来就可以。但是有些时候我们使用github克隆代码会很缓慢，这里介绍一个小技巧。我们可以通过国内的git平台，如码云，先将项目克隆到码云，然后再从码云克隆，这样可以大大提升代码克隆速度。</p><p>hyperledger fabric github地址为： <a href="https://github.com/hyperledger/fabric" target="_blank" rel="noopener">https://github.com/hyperledger/fabric</a><br><br><br><br></p><ol start="2"><li>获取fabric docker 镜像</li></ol><p>此时就需要使用docker命令拉取fabric基础镜像。具体需要拉取的镜像，其实都在fabric项目提供的脚本中有写到。可以从github上克隆代码查看，或者直接在github上查看。</p><p>../fabric_1.1.0-rc1/fabric-1.1.0-rc1/scripts/bootstrap-1.1.0-preview.sh</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 运行上述目录下的脚本,即可获得1.1.0版本的fabric所需镜像，同时也会下载fabric对应需要的命令行工具</span><br><span class="line"># sh ./bootstrap-1.1.0-preview.sh</span><br></pre></td></tr></table></figure><p>bootstrap-1.1.0-preview.sh</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">#</span><br><span class="line"># Copyright IBM Corp. All Rights Reserved.</span><br><span class="line">#</span><br><span class="line"># SPDX-License-Identifier: Apache-2.0</span><br><span class="line">#</span><br><span class="line"></span><br><span class="line">export VERSION=1.1.0-preview</span><br><span class="line">export ARCH=$(echo &quot;$(uname -s|tr &apos;[:upper:]&apos; &apos;[:lower:]&apos;|sed &apos;s/mingw64_nt.*/windows/&apos;)-$(uname -m | sed &apos;s/x86_64/amd64/g&apos;)&quot; | awk &apos;&#123;print tolower($0)&#125;&apos;)</span><br><span class="line">#Set MARCH variable i.e ppc64le,s390x,x86_64,i386</span><br><span class="line">MARCH=`uname -m`</span><br><span class="line"></span><br><span class="line">dockerFabricPull() &#123;</span><br><span class="line">  local FABRIC_TAG=$1</span><br><span class="line">  for IMAGES in peer orderer couchdb ccenv javaenv kafka zookeeper tools; do</span><br><span class="line">      echo &quot;==&gt; FABRIC IMAGE: $IMAGES&quot;</span><br><span class="line">      echo</span><br><span class="line">      docker pull hyperledger/fabric-$IMAGES:$FABRIC_TAG</span><br><span class="line">      docker tag hyperledger/fabric-$IMAGES:$FABRIC_TAG hyperledger/fabric-$IMAGES</span><br><span class="line">  done</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">dockerCaPull() &#123;</span><br><span class="line">      local CA_TAG=$1</span><br><span class="line">      echo &quot;==&gt; FABRIC CA IMAGE&quot;</span><br><span class="line">      echo</span><br><span class="line">      docker pull hyperledger/fabric-ca:$CA_TAG</span><br><span class="line">      docker tag hyperledger/fabric-ca:$CA_TAG hyperledger/fabric-ca</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">: $&#123;CA_TAG:=&quot;$MARCH-$VERSION&quot;&#125;</span><br><span class="line">: $&#123;FABRIC_TAG:=&quot;$MARCH-$VERSION&quot;&#125;</span><br><span class="line"></span><br><span class="line">echo &quot;===&gt; Downloading platform binaries&quot;</span><br><span class="line">curl https://nexus.hyperledger.org/content/repositories/releases/org/hyperledger/fabric/hyperledger-fabric/$&#123;ARCH&#125;-$&#123;VERSION&#125;/hyperledger-fabric-$&#123;ARCH&#125;-$&#123;VERSION&#125;.tar.gz | tar xz</span><br><span class="line"></span><br><span class="line">echo &quot;===&gt; Pulling fabric Images&quot;</span><br><span class="line">dockerFabricPull $&#123;FABRIC_TAG&#125;</span><br><span class="line"></span><br><span class="line">echo &quot;===&gt; Pulling fabric ca Image&quot;</span><br><span class="line">dockerCaPull $&#123;CA_TAG&#125;</span><br><span class="line">echo</span><br><span class="line">echo &quot;===&gt; List out hyperledger docker images&quot;</span><br><span class="line">docker images | grep hyperledger*</span><br></pre></td></tr></table></figure><p>获得的镜像信息如下</p><table><thead><tr><th>镜像名称</th><th>用途</th></tr></thead><tbody><tr><td>hyperledger/fabric-peer:x86_64-1.1.0</td><td>peer模块镜像文件</td></tr><tr><td>hyperledger/fabric-orderer:x86_64-1.1.0</td><td>orderer节点镜像文件 </td></tr><tr><td>hyperledger/fabric-ca:x86_64-1.1.0</td><td>ca模块镜像文件</td></tr><tr><td>hyperledger/fabric-tools:x86_64-1.1.0</td><td>相关工具镜像文件，包含了cryptogen、configtxgen、configtxlator等工具</td></tr><tr><td>hyperledger/fabric-javaenv:x86_64-1.1.0</td><td>java版本的chaincode运行环境镜像文件</td></tr><tr><td>hyperledger/fabric-ccenv:x86_64-1.1.0</td><td>go语言版本的chaincode运行环境镜像文件</td></tr><tr><td>hyperledger/fabric-couchdb:x86_64-0.4.6</td><td>couchdb数据库镜像文件</td></tr><tr><td>hyperledger/fabric-kafka:x86_64-0.4.6</td><td>kafka镜像文件</td></tr><tr><td>hyperledger/fabric-zookeeper:x86_64-0.4.6</td><td>zookeeper 镜像文件</td></tr><tr><td>hyperledger/fabric-baseos:x86_64-0.4.6</td><td>基础镜像文件,其他镜像文件在该文件镜像基础上生成</td></tr></tbody></table><p>下载到这些docker镜像就可以启动一个fabric网络了</p><hr><h4 id="三、启动一个fabric网络"><a href="#三、启动一个fabric网络" class="headerlink" title="三、启动一个fabric网络"></a>三、启动一个fabric网络</h4><p>fabric提供了简单的启动区块链网络的脚本，用来验证和学习。</p><p>../fabric_1.1.0-rc1/fabric-1.1.0-rc1/examples/e2e_cli 目录下是一个简单区块链网络启动脚本，此应用案例是学习区块链网络的最好开始。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-- 进入到上述目录</span><br><span class="line"></span><br><span class="line"># sh ./network_setup.sh up      --启动区块链网络</span><br><span class="line"></span><br><span class="line"># sh ./network_setup.sh down    --停止区块链网络</span><br><span class="line"></span><br><span class="line"># sh ./network_setup.sh restart --重启区块链网络</span><br></pre></td></tr></table></figure><p>此目录文件结构</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── base                                </span><br><span class="line">│   ├── docker-compose-base.yaml                -- 启动节点的基础配置</span><br><span class="line">│   └── peer-base.yaml                          -- peer节点的基础配置</span><br><span class="line">├── channel-artifacts                           -- 存放通道描述文件的目录</span><br><span class="line">├── configtx.yaml                               -- 通道节点信息配置文件</span><br><span class="line">├── crypto-config.yaml                          -- 组织证书描述配置文件</span><br><span class="line">├── docker-compose-cli.yaml                     -- cli启动docker描述文件</span><br><span class="line">├── docker-compose-couch.yaml</span><br><span class="line">├── docker-compose-e2e-template.yaml</span><br><span class="line">├── docker-compose-e2e.yaml</span><br><span class="line">├── docker-compose-e2e.yamlt</span><br><span class="line">├── download-dockerimages.sh</span><br><span class="line">├── end-to-end.rst</span><br><span class="line">├── examples</span><br><span class="line">│   └── chaincode</span><br><span class="line">│       └── go</span><br><span class="line">│           └── chaincode_example02</span><br><span class="line">│               └── chaincode_example02.go      -- 案例中使用的智能合约</span><br><span class="line">├── generateArtifacts.sh                        -- 生成证书文件的脚本</span><br><span class="line">├── network_setup.sh                            -- 启停案例的脚本</span><br><span class="line">└── scripts</span><br><span class="line">    └── script.sh                               -- 启动cli容器后执行的脚本</span><br></pre></td></tr></table></figure><p>这些文件中写的命令都比较简单，只要大家稍加阅读。</p><p>可能会在启动中遇到的问题</p><ol><li>没有找到生成配置文件的工具 cryptogen、configtxgen、configtxlator 这些。此时就需要读者去确认，执行bootstrap-1.1.0-preview.sh这个脚本，有没有正确的完整执行完。</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl https://nexus.hyperledger.org/content/repositories/releases/org/hyperledger/fabric/hyperledger-fabric/$&#123;ARCH&#125;-$&#123;VERSION&#125;/hyperledger-fabric-$&#123;ARCH&#125;-$&#123;VERSION&#125;.tar.gz | tar xz</span><br><span class="line"></span><br><span class="line">-- 脚本文件中，这条命令就是下载上述工具的命令，有时候会因为网络原因下载缓慢，读者可以自行将命令中变量补全，用其他下载工具下载。</span><br></pre></td></tr></table></figure><p>然后再确认 generateArtifacts.sh 脚本中获得上述命令行工具的地址，和你下载存放的地址是否对应。</p><ol start="2"><li>也可能在启动过程中 遇到一个 docker network的问题，这个问题是在 ./base/peer-base.yaml 中一个配置的原因。</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"># Copyright IBM Corp. All Rights Reserved.</span><br><span class="line">#</span><br><span class="line"># SPDX-License-Identifier: Apache-2.0</span><br><span class="line">#</span><br><span class="line"></span><br><span class="line">version: &apos;2&apos;</span><br><span class="line">services:</span><br><span class="line">  peer-base:</span><br><span class="line">    image: hyperledger/fabric-peer</span><br><span class="line">    environment:</span><br><span class="line">      - CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock</span><br><span class="line">      # the following setting starts chaincode containers on the same</span><br><span class="line">      # bridge network as the peers</span><br><span class="line">      # https://docs.docker.com/compose/networking/</span><br><span class="line">      - CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE=e2ecli_default        --就这行，修改其值与之对应即可</span><br><span class="line">      #- CORE_LOGGING_LEVEL=ERROR</span><br><span class="line">      - CORE_LOGGING_LEVEL=DEBUG</span><br><span class="line">      - CORE_PEER_TLS_ENABLED=true</span><br><span class="line">      - CORE_PEER_GOSSIP_USELEADERELECTION=true</span><br><span class="line">      - CORE_PEER_GOSSIP_ORGLEADER=false</span><br><span class="line">      - CORE_PEER_PROFILE_ENABLED=true</span><br><span class="line">      - CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/fabric/tls/server.crt</span><br><span class="line">      - CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/fabric/tls/server.key</span><br><span class="line">      - CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/tls/ca.crt</span><br><span class="line">    working_dir: /opt/gopath/src/github.com/hyperledger/fabric/peer</span><br><span class="line">    command: peer node start</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Hyperledger-Fabric-1-1-0-简单部署&quot;&gt;&lt;a href=&quot;#Hyperledger-Fabric-1-1-0-简单部署&quot; class=&quot;headerlink&quot; title=&quot;Hyperledger Fabric 1.1.0 简单部署&quot;&gt;&lt;/a
      
    
    </summary>
    
      <category term="区块链" scheme="http://zhaoziqian.top/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
    
      <category term="Hyperledger fabric" scheme="http://zhaoziqian.top/tags/Hyperledger-fabric/"/>
    
      <category term="区块链" scheme="http://zhaoziqian.top/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
  </entry>
  
  <entry>
    <title>fabric-sdk-node 日志等级设置</title>
    <link href="http://zhaoziqian.top/2018/06/20/fabric-sdk-node-%E6%97%A5%E5%BF%97%E7%AD%89%E7%BA%A7%E8%AE%BE%E7%BD%AE/"/>
    <id>http://zhaoziqian.top/2018/06/20/fabric-sdk-node-日志等级设置/</id>
    <published>2018-06-20T11:39:10.000Z</published>
    <updated>2018-06-20T11:43:10.634Z</updated>
    
    <content type="html"><![CDATA[<h3 id="fabric-sdk-node-日志等级设置"><a href="#fabric-sdk-node-日志等级设置" class="headerlink" title="fabric-sdk-node 日志等级设置"></a>fabric-sdk-node 日志等级设置</h3><p>在我们使用 fabric-sdk-node 开发客户端的时候，默认的fabric-sdk-node日志等级是info。有很多sdk带有的日志，都是debug的。需要设置一下日志等级将日志显示出来。</p><p>通过查看fabric-sdk-node代码，在fabric-client的包下的utils.js里设置着fabric-sdk-node所使用的默认日志。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">//</span><br><span class="line">// Internal API.</span><br><span class="line">//</span><br><span class="line">// Get the standard logger to use throughout the SDK code. If the client application has</span><br><span class="line">// configured a logger, then that&apos;ll be returned.</span><br><span class="line">//</span><br><span class="line">// The user can also make user of the built-in &quot;winston&quot; based logger and use the environment</span><br><span class="line">// variable HFC_LOGGING to pass in configurations in the following format:</span><br><span class="line">//</span><br><span class="line">// &#123;</span><br><span class="line">//   &apos;error&apos;: &apos;error.log&apos;,// &apos;error&apos; logs are printed to file &apos;error.log&apos; relative of the current working dir for node.js</span><br><span class="line">//   &apos;debug&apos;: &apos;/tmp/myapp/debug.log&apos;,// &apos;debug&apos; and anything more critical (&apos;info&apos;, &apos;warn&apos;, &apos;error&apos;) can also be an absolute path</span><br><span class="line">//   &apos;info&apos;: &apos;console&apos;// &apos;console&apos; is a keyword for logging to console</span><br><span class="line">// &#125;</span><br><span class="line">//</span><br><span class="line">module.exports.getLogger = function(name) &#123;</span><br><span class="line">var saveLogger = function(logger) &#123;</span><br><span class="line">if (global.hfc) &#123;</span><br><span class="line">global.hfc.logger = logger;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">global.hfc = &#123;</span><br><span class="line">logger: logger</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>大体意思就是说，这个日志只是使用在sdk内容，用户可以自己构造日志对象。也提供了示例格式。只需要在项目中加入环境变量 HFC_LOGGING </p><p>我们要想将日志等级设置成 debug 就可以编译以及json串</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;error&quot;:&quot;error.log&quot;,</span><br><span class="line">    &quot;debug&quot;:&quot;/tmp/myapp/debug.log&quot;,</span><br><span class="line">    &quot;debug&quot;:&quot;console&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后设置到启动时的环境变量里。我使用的webstorm，设置如下图。</p><p><img src="http://zhaoziqian0627.oss-cn-beijing.aliyuncs.com/18-6-20/72427900.jpg" alt="fabric-sdk-node设置日志1"><br><br><img src="http://zhaoziqian0627.oss-cn-beijing.aliyuncs.com/18-6-20/90288625.jpg" alt="fabric-sdk-node设置日志1"><br><br><img src="http://zhaoziqian0627.oss-cn-beijing.aliyuncs.com/18-6-20/83819818.jpg" alt="fabric-sdk-node设置日志1"><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;fabric-sdk-node-日志等级设置&quot;&gt;&lt;a href=&quot;#fabric-sdk-node-日志等级设置&quot; class=&quot;headerlink&quot; title=&quot;fabric-sdk-node 日志等级设置&quot;&gt;&lt;/a&gt;fabric-sdk-node 日志等级
      
    
    </summary>
    
      <category term="区块链" scheme="http://zhaoziqian.top/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
    
      <category term="Hyperledger fabric" scheme="http://zhaoziqian.top/tags/Hyperledger-fabric/"/>
    
      <category term="区块链" scheme="http://zhaoziqian.top/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
      <category term="node.js" scheme="http://zhaoziqian.top/tags/node-js/"/>
    
  </entry>
  
  <entry>
    <title>Mac使用VMware Fusion建立centos7最小系统虚拟机</title>
    <link href="http://zhaoziqian.top/2018/06/19/Mac%E4%BD%BF%E7%94%A8VMware-Fusion%E5%BB%BA%E7%AB%8Bcentos7%E6%9C%80%E5%B0%8F%E7%B3%BB%E7%BB%9F%E8%99%9A%E6%8B%9F%E6%9C%BA/"/>
    <id>http://zhaoziqian.top/2018/06/19/Mac使用VMware-Fusion建立centos7最小系统虚拟机/</id>
    <published>2018-06-18T16:35:08.000Z</published>
    <updated>2018-06-18T16:41:41.643Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Mac使用VMware-Fusion建立centos7最小系统虚拟机"><a href="#Mac使用VMware-Fusion建立centos7最小系统虚拟机" class="headerlink" title="Mac使用VMware Fusion建立centos7最小系统虚拟机"></a>Mac使用VMware Fusion建立centos7最小系统虚拟机</h2><p>创建虚拟机过程很简单，大体步骤参考下图就可以。<br></p><p><img src="http://zhaoziqian0627.oss-cn-beijing.aliyuncs.com/18-6-19/88639698.jpg" alt="建立centos7虚拟机1"><br><br><img src="http://zhaoziqian0627.oss-cn-beijing.aliyuncs.com/18-6-19/63313328.jpg" alt="建立centos7虚拟机2"><br><br><img src="http://zhaoziqian0627.oss-cn-beijing.aliyuncs.com/18-6-19/2229613.jpg" alt="建立centos7虚拟机3"><br><br><img src="http://zhaoziqian0627.oss-cn-beijing.aliyuncs.com/18-6-19/40555945.jpg" alt="建立centos7虚拟机4"><br><br><img src="http://zhaoziqian0627.oss-cn-beijing.aliyuncs.com/18-6-19/78032991.jpg" alt="建立centos7虚拟机5"><br><br><img src="http://zhaoziqian0627.oss-cn-beijing.aliyuncs.com/18-6-19/45104517.jpg" alt="建立centos7虚拟机6"><br><br><img src="http://zhaoziqian0627.oss-cn-beijing.aliyuncs.com/18-6-19/87422918.jpg" alt="建立centos7虚拟机7"><br><br><img src="http://zhaoziqian0627.oss-cn-beijing.aliyuncs.com/18-6-19/93057410.jpg" alt="建立centos7虚拟机8"><br><br><img src="http://zhaoziqian0627.oss-cn-beijing.aliyuncs.com/18-6-19/83744513.jpg" alt="建立centos7虚拟机9"><br></p><hr><p><strong> 配置网络 </strong><br>当虚拟机创建好之后，一般有两种网络连接方式，一种是dhcp，一种net。dhcp就是指桥接，在使用过程中网络环境发生变化，虚拟机系统就会给虚拟机分配新的ip，这样每次开机虚拟机的ip不同十分影响使用。所以需要将虚拟机的ip设置为net模式。<br><br>在这之后虚拟机，还可以修改虚拟机的配置，自己分配ip地址给虚拟机。<br><br>登录虚拟机终端后需要修改的配置文件如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 修改对应的网络配置文件</span><br><span class="line"># cd /etc/sysconfig/network-script/</span><br></pre></td></tr></table></figure><p><strong>查看目录下的文件列表</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># ll</span><br><span class="line"></span><br><span class="line">[root@localhost network-scripts]# ll</span><br><span class="line">总用量 224</span><br><span class="line">-rw-r--r--. 1 root root   421 4月   8 11:02 ifcfg-ens33</span><br><span class="line">-rw-r--r--. 1 root root   254 5月   3 2017 ifcfg-lo</span><br><span class="line">......略</span><br><span class="line">-rw-r--r--. 1 root root 31027 5月   3 2017 network-functions-ipv6</span><br><span class="line"></span><br><span class="line"># 这个目录里保存的都是网卡配置信息，我们只需要修改ifcfg-ensXX 【XX代表数字】。</span><br></pre></td></tr></table></figure></p><p><strong>修改内容如下</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">TYPE=&quot;Ethernet&quot;</span><br><span class="line">PROXY_METHOD=&quot;none&quot;</span><br><span class="line">BROWSER_ONLY=&quot;no&quot;</span><br><span class="line">#BOOTPROTO=&quot;dhcp&quot;         -- 我们不是用桥接,所以注释</span><br><span class="line">BOOTPROTO=&quot;static&quot;        -- 使用静态IP</span><br><span class="line">IPADDR=&quot;192.168.48.110&quot;   --  IP地址</span><br><span class="line">NETMASH=&quot;255.255.255.0&quot;   -- 子网掩码</span><br><span class="line">GATEWAY=&quot;192.168.48.2&quot;    --  网关，需要在虚拟机软件上设置</span><br><span class="line">DNS1=&quot;192.168.48.2&quot;       -- DNS服务地址</span><br><span class="line">DEFROUTE=&quot;yes&quot;</span><br><span class="line">IPV4_FAILURE_FATAL=&quot;no&quot;</span><br><span class="line">IPV6INIT=&quot;yes&quot;</span><br><span class="line">IPV6_AUTOCONF=&quot;yes&quot;</span><br><span class="line">IPV6_DEFROUTE=&quot;yes&quot;</span><br><span class="line">IPV6_FAILURE_FATAL=&quot;no&quot;</span><br><span class="line">IPV6_ADDR_GEN_MODE=&quot;stable-privacy&quot;</span><br><span class="line">NAME=&quot;ens33&quot;</span><br><span class="line">UUID=&quot;8f0e86f9-a8be-4477-a8d8-6377e0b14e68&quot;</span><br><span class="line">DEVICE=&quot;ens33&quot;</span><br><span class="line">ONBOOT=&quot;yes&quot;</span><br></pre></td></tr></table></figure><p>只用修改带描述的配置行。其他的不用修改。本机网关地址在虚拟机软件配置文件里。Mac系统下，在目录/资源库/Preferences/VMware Fusion/vmnet8/nat.conf 文件中</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># NAT gateway address</span><br><span class="line">ip = 192.168.48.2</span><br><span class="line">netmask = 255.255.255.0</span><br></pre></td></tr></table></figure><p>根据个人机器配置对应设置就可以。最后重启网络服务。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># service network restart</span><br><span class="line"># 再次查看ip</span><br><span class="line"># ip addr</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@localhost network-scripts]# ip addr</span><br><span class="line">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN qlen 1</span><br><span class="line">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class="line">    inet 127.0.0.1/8 scope host lo</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">    inet6 ::1/128 scope host</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">2: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000</span><br><span class="line">    link/ether 00:0c:29:cd:5a:f1 brd ff:ff:ff:ff:ff:ff</span><br><span class="line">    inet 192.168.48.110/24 brd 192.168.48.255 scope global ens33</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">    inet6 fe80::5a5e:cb38:6b09:9fea/64 scope link</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br></pre></td></tr></table></figure><p>以上一台新鲜的虚拟机就可以使用了。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Mac使用VMware-Fusion建立centos7最小系统虚拟机&quot;&gt;&lt;a href=&quot;#Mac使用VMware-Fusion建立centos7最小系统虚拟机&quot; class=&quot;headerlink&quot; title=&quot;Mac使用VMware Fusion建立cent
      
    
    </summary>
    
      <category term="mac系统" scheme="http://zhaoziqian.top/categories/mac%E7%B3%BB%E7%BB%9F/"/>
    
    
      <category term="mac" scheme="http://zhaoziqian.top/tags/mac/"/>
    
      <category term="centos7" scheme="http://zhaoziqian.top/tags/centos7/"/>
    
  </entry>
  
  <entry>
    <title>使用HEXO搭建个人博客记录</title>
    <link href="http://zhaoziqian.top/2018/06/16/%E4%BD%BF%E7%94%A8HEXO%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E8%AE%B0%E5%BD%95/"/>
    <id>http://zhaoziqian.top/2018/06/16/使用HEXO搭建个人博客记录/</id>
    <published>2018-06-16T06:14:04.000Z</published>
    <updated>2018-06-16T06:34:16.113Z</updated>
    
    <content type="html"><![CDATA[<h3 id="使用HEXO搭建个人博客记录"><a href="#使用HEXO搭建个人博客记录" class="headerlink" title="使用HEXO搭建个人博客记录"></a>使用HEXO搭建个人博客记录</h3><p>Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p><ul><li>Mac环境</li></ul><hr><font size="4"><strong>1. 安装前提</strong></font><ul><li>Node.js</li><li>Git</li></ul><p>在Mac上安装这两个软件通过brew工具就可以简单完成。</p><hr><font size="4"><strong>2. 安装HEXO</strong></font><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm instll -g hexo-cli</span><br></pre></td></tr></table></figure><br><br>到现在就可以开始正式使用HEXO<br><br>—<br><font size="4"><strong>3.建站</strong></font><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 现在可以在电脑上建立一个文件夹作为根目录</span><br><span class="line">$ hexo init &lt;folder&gt;</span><br><span class="line">$ cd &lt;folder&gt;</span><br><span class="line">$ npm install</span><br></pre></td></tr></table></figure><br><br>完成以上后可以看到刚刚创建的目录如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── _config.yml</span><br><span class="line">├── package.json</span><br><span class="line">├── scaffolds</span><br><span class="line">├── source</span><br><span class="line">|   ├── _drafts</span><br><span class="line">|   └── _posts</span><br><span class="line">└── themes</span><br></pre></td></tr></table></figure><br><br><strong>_config.yml</strong><br><br>网站的配置信息，在此配置大部分的配置参数。<br><br><strong>package.json</strong><br><br>熟悉node.js都知道了<br><br><strong>scaffolds</strong><br><br>模板文件夹。新建文章时，Hexo会根据scaffold来建立文件。<br><br><strong>source</strong><br><br>资源文件夹是存放资源的地方。除 <strong>_posts</strong> 文件夹之外，开头命名为 <strong>_</strong> (下划线)的文件/文件夹和隐藏的文件将会被忽略。Markdown和HTML文件会被解析并放到 <strong>public</strong> 文件夹，而其他文件会被拷贝过去。<br><br><strong>theme</strong><br><br>主题文件夹。Hexo会根据主体来生成静态页面。<br><br>—-<br><font size="4"><strong>4. 和Github Page 结合</strong></font><ol><li>一个github账户</li><li>创建一个新的公开项目<br><img src="http://zhaoziqian0627.oss-cn-beijing.aliyuncs.com/18-6-16/97024663.jpg" alt="image"><br>3.修改 <strong>_config.yml</strong></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># Deployment</span><br><span class="line">## Docs: https://hexo.io/docs/deployment.html</span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  # 写入刚刚创建的git仓库地址</span><br><span class="line">  repo: https://github.com/zhaoziqian/zhaoziqian.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><p>4.部署<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save hexo-deployer-git</span><br><span class="line">$ hexo clean ; hexo d</span><br><span class="line">## 等待一会就好</span><br></pre></td></tr></table></figure></p><p>访问地址确认一下部署成果<br><br><a href="https://zhaoziqian.github.io/" target="_blank" rel="noopener">zhaoziqian.github.io</a></p><hr><font size="4"><strong>5. 使用主题</strong></font><p>Hexo初始化后自带默认主题，我们也可以使用其他的三方主题(亦可以自己搞)。</p><p><strong><a href="https://hexo.io/themes/" target="_blank" rel="noopener">Hemo的主题页</a></strong><br><img src="http://zhaoziqian0627.oss-cn-beijing.aliyuncs.com/18-6-16/10028072.jpg" alt="image"><br>可以从这里选择你喜欢的主题，然后只用到自己的博客中。</p><p>选择一个主题进入到主题的github仓库，一般情况下主题作者都会写有 <strong>README.md</strong>文件描述主题如何使用。<br>主要的就是：</p><ol><li>将主题克隆到根目录下themes文件夹里</li><li>设置 <strong>_config.yml</strong> 文件中 <strong>theme: &lt;主题名称&gt; </strong> 和其他主题自带配置</li><li>重新部署</li></ol><hr><font size="4"><strong>6. 设置自己域名</strong></font><p>必备素材是拥有一个域名，怎么购买域名就说了。下面以阿里云上购买的域名为例。</p><p><img src="http://zhaoziqian0627.oss-cn-beijing.aliyuncs.com/18-6-16/62940932.jpg" alt="image"><br>进入阿里云解析DNS,选择我们要配置的域名做如下配置</p><p><img src="http://zhaoziqian0627.oss-cn-beijing.aliyuncs.com/18-6-16/12403737.jpg" alt="image"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">192.30.252.153  # 这两个ip是github的ip地址</span><br><span class="line">192.30.252.154</span><br><span class="line"># 然后创建一个CNAME记录，将记录值写为刚刚 GithubPage地址</span><br></pre></td></tr></table></figure><p>之后我们需要在根目录下 <strong> ./source</strong> 目录里创建 <strong> CNAME</strong> 文件，内容如下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">zhaoziqian.top</span><br><span class="line"># 不要http</span><br><span class="line"># 不要www</span><br></pre></td></tr></table></figure><p>设置<strong>_config.yml</strong>文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># URL</span><br><span class="line">url: http://zhaoziqian.top</span><br></pre></td></tr></table></figure></p><p>重新部署，就可以用域名访问了  <a href="http://zhaoziqian.top/">zhaoziqian.top</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;使用HEXO搭建个人博客记录&quot;&gt;&lt;a href=&quot;#使用HEXO搭建个人博客记录&quot; class=&quot;headerlink&quot; title=&quot;使用HEXO搭建个人博客记录&quot;&gt;&lt;/a&gt;使用HEXO搭建个人博客记录&lt;/h3&gt;&lt;p&gt;Hexo 是一个快速、简洁且高效的博客框架。
      
    
    </summary>
    
      <category term="学习分享" scheme="http://zhaoziqian.top/categories/%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB/"/>
    
    
      <category term="hexo" scheme="http://zhaoziqian.top/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>Mac 系统常用软件安装工具homebrew,常用命令记录</title>
    <link href="http://zhaoziqian.top/2018/06/16/Mac-%E7%B3%BB%E7%BB%9F%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85%E5%B7%A5%E5%85%B7homebrew-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E8%AE%B0%E5%BD%95/"/>
    <id>http://zhaoziqian.top/2018/06/16/Mac-系统常用软件安装工具homebrew-常用命令记录/</id>
    <published>2018-06-16T03:55:44.000Z</published>
    <updated>2018-06-18T16:37:02.983Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Mac-系统常用软件安装工具homebrew-常用命令记录"><a href="#Mac-系统常用软件安装工具homebrew-常用命令记录" class="headerlink" title="Mac-系统常用软件安装工具homebrew-常用命令记录"></a>Mac-系统常用软件安装工具homebrew-常用命令记录</h3><p>在mac系统里我们需要安装软件，除了自己下载安装包，自己安装。还有一种像是在linux系统下，apt，yum命令同样的软件安装工具那就是brew。</p><p>如何安装homebrew这里不介绍了，可以参考官网的安装指南 <strong>【<a href="https://brew.sh/" target="_blank" rel="noopener">homebrew</a>】</strong></p><p>以下记录brew使用中的常用命令</p><ol><li><strong>搜索</strong>：brew search mysql</li><li><strong>查询</strong>：brew info mysql  主要看具体的信息，比如目前的版本，依赖，安装后注意事项等</li><li><strong>更新</strong>：brew update 这会更新Homebrew自己</li><li><strong>检查过时（是否有新版本）</strong>：brew outdated 这回列出所有安装的软件里可以升级的那些</li><li><strong>升级</strong>：brew upgrade 升级所有可以升级的软件们</li><li><strong>清理</strong>：brew cleanup 清理不需要的版本极其安装包缓存</li><li><strong>卸载</strong>：brew uninstall mysql </li><li><strong>帮助</strong>：brew -h</li></ol><hr><p>除了上面这些常用的</p><p>brew list 显示已经安装的软件列表</p><p>brew outdated 查看那些已安装的程序需要更新</p><p>brew services 查看brew可以控制启动的软件</p><p>brew doctor brew的自检</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Mac-系统常用软件安装工具homebrew-常用命令记录&quot;&gt;&lt;a href=&quot;#Mac-系统常用软件安装工具homebrew-常用命令记录&quot; class=&quot;headerlink&quot; title=&quot;Mac-系统常用软件安装工具homebrew-常用命令记录&quot;&gt;&lt;/a
      
    
    </summary>
    
      <category term="mac系统" scheme="http://zhaoziqian.top/categories/mac%E7%B3%BB%E7%BB%9F/"/>
    
    
      <category term="mac" scheme="http://zhaoziqian.top/tags/mac/"/>
    
      <category term="brew" scheme="http://zhaoziqian.top/tags/brew/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://zhaoziqian.top/2018/06/15/hello-world/"/>
    <id>http://zhaoziqian.top/2018/06/15/hello-world/</id>
    <published>2018-06-15T05:42:42.000Z</published>
    <updated>2018-06-15T08:35:57.769Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
      
    
    </summary>
    
    
      <category term="helloworld" scheme="http://zhaoziqian.top/tags/helloworld/"/>
    
  </entry>
  
  <entry>
    <title>my first hexo page</title>
    <link href="http://zhaoziqian.top/2018/06/15/my-first-hexo-page/"/>
    <id>http://zhaoziqian.top/2018/06/15/my-first-hexo-page/</id>
    <published>2018-06-15T05:42:42.000Z</published>
    <updated>2018-06-15T07:58:01.641Z</updated>
    
    <content type="html"><![CDATA[<h4 id="使用HEXO创建的第一篇BLOG"><a href="#使用HEXO创建的第一篇BLOG" class="headerlink" title="使用HEXO创建的第一篇BLOG"></a>使用HEXO创建的第一篇BLOG</h4><hr><h1 id="致橡树"><a href="#致橡树" class="headerlink" title="致橡树"></a>致橡树</h1><p>作者：舒婷</p><p>我如果爱你——<br>绝不像攀援的凌霄花，<br>借你的高枝炫耀自己；<br>我如果爱你——<br>绝不学痴情的鸟儿，<br>为绿荫重复单调的歌曲；<br>也不止像泉源，<br>常年送来清凉的慰藉；<br>也不止像险峰，<br>增加你的高度，衬托你的威仪。<br>甚至日光，<br>甚至春雨。</p><p>不，这些都还不够！<br>我必须是你近旁的一株木棉，<br>作为树的形象和你站在一起。<br>根，紧握在地下；<br>叶，相触在云里。<br>每一阵风过，<br>我们都互相致意，<br>但没有人，<br>听懂我们的言语。<br>你有你的铜枝铁干，<br>像刀，像剑，也像戟；<br>我有我红硕的花朵，<br>像沉重的叹息，<br>又像英勇的火炬。</p><p>我们分担寒潮、风雷、霹雳；<br>我们共享雾霭、流岚、虹霓。<br>仿佛永远分离，<br>却又终身相依。<br>这才是伟大的爱情，<br>坚贞就在这里：<br>爱——<br>不仅爱你伟岸的身躯，<br>也爱你坚持的位置，<br>足下的土地。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;使用HEXO创建的第一篇BLOG&quot;&gt;&lt;a href=&quot;#使用HEXO创建的第一篇BLOG&quot; class=&quot;headerlink&quot; title=&quot;使用HEXO创建的第一篇BLOG&quot;&gt;&lt;/a&gt;使用HEXO创建的第一篇BLOG&lt;/h4&gt;&lt;hr&gt;
&lt;h1 id=&quot;致橡树&quot;
      
    
    </summary>
    
    
      <category term="test" scheme="http://zhaoziqian.top/tags/test/"/>
    
  </entry>
  
</feed>
